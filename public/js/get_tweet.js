function start(t,e,n){const a=io.connect(location.hostname+":"+location.port),r=$("#tweet"),o=$("#tweets");a.on("init",function(){a.emit("init",{token:t,token_secret:e})});var i=48;a.on("tweet",function(t){function e(t,e,n){return Math.random()*(e-t-t)+t}console.log(t),$tc=o.children(),n<=$tc.length&&$tc.eq(0).remove();var a=window.innerHeight-104,r=window.innerWidth-300;o.append('<div class="tweet" id="'+t.id_str+'" style="top:'+e(a/100*i,a,104)+"px; left:"+e(r/100*i,r,300)+"px; z-index:"+z_count+';"><div class="title_bar">OZtter2 Message - <a href="https://twitter.com/'+t.user.screen_name+'" target="_blank">@'+t.user.screen_name+'</a><button class="close" title="閉じる"><span class="cross"></span></button></div><img class="icon" align="left" src="'+t.user.profile_image_url_https+'"><p class="value">'+function(t){return t.replace(/(https?:\/\/[\x21-\x7e]+)/gi,'<a href="$1" target="_blank">$1</a>').replace(/@(\w+)/g,'<a href="https://twitter.com/$1" target="_blank">@$1</a>').replace(/\r\n?/g,"<br>")}(t.text)+"</p></div>"),$("#"+t.id_str).draggable({handle:".title_bar"}),0<i&&i--}),r.on("keydown",function(t){$this=$(this),13===t.keyCode&&""!==$this.val()&&(a.emit("tweet",$this.val()),$this.val(""))}),a.on("delete",function(t){$("#"+t).remove()}),a.on("err",function(t){switch(t){default:console.error(t);break;case"Status Code: 401":window.location.href="/reset";break;case"Status Code: 420":alert("Twitterに接続出来ませんでした\n15分程経ってから再度アクセスしてください")}})}var z_count=0;